println : cfunc(format : string, ...) -> null;

City : struct {
	name : string;
	population : int;	
}

Person : struct {
	first_name : string;
	last_name : string;
	birth_place : City;
}

print_by_reference : (p : Person) -> null {
	println(
		"%s %s, born in %s, a city with a population of %d.",
		p.first_name,
		p.last_name,
		p.birth_place.name,
		p.birth_place.population
	);
}

print_by_pointer : (p : Person^) -> null {
	println(
		"%s %s, born in %s, a city with a population of %d.",
		(^p).first_name,
		(^p).last_name,
		(^p).birth_place.name,
		(^p).birth_place.population
	);
}

main : () -> null {

	billy : Person;
	jason : Person;

	billy.first_name = "Billy";
	billy.last_name = "Wilson";
	billy.birth_place.name = "Boston";
	billy.birth_place.population = 656000;

	jason.first_name = "Jason";
	jason.last_name = "Robinson";
	jason.birth_place.name = "Omaha";
	jason.birth_place.population = 434000;

	print_by_reference(billy);
	print_by_pointer(&billy);

	print_by_reference(jason);
	print_by_pointer(&jason);
}
